<!DOCTYPE html>
<html>
<head>
	<title>Joining Objects</title>
	<script type="text/javascript">
		"use strict"


var users = [
  {
  id: 1,
  first_name: 'Johnny',
  last_name: 'Rotten',
  created_at:'2012-12-31 23:59:59',
  updated_at:'2012-12-31 23:59:59'
  },
  {
  id: 2,
  first_name: 'Amy',
  last_name: 'Brown',
  created_at:'2012-12-31 23:59:59',
  updated_at:'2012-12-31 23:59:59'
  },
  {
  id: 3,
  first_name: 'Alice',
  last_name: 'Roh',
  created_at:'2012-12-31 23:59:59',
  updated_at:'2012-12-31 23:59:59'
  },

]

var usersHaveBooks = [
  {
    id:1,
    user_id:1,
    book_id:1,
    created_at:'2012-12-31 23:59:59',
    updated_at:'2012-12-31 23:59:59'
  },
  {
    id:1,
    user_id:1,
    book_id:2,
    created_at:'2012-12-31 23:59:59',
    updated_at:'2012-12-31 23:59:59'
  },
  {
    id:1,
    user_id:1,
    book_id:3,
    created_at:'2012-12-31 23:59:59',
    updated_at:'2012-12-31 23:59:59'
  },
  {
    id:1,
    user_id:2,
    book_id:2,
    created_at:'2012-12-31 23:59:59',
    updated_at:'2012-12-31 23:59:59'
  },

]
var books = [
  {
  id: 1,
  book_title: 'Grapes of Wrath',
  book_subject: 'The hard life during the depression',
  created_at:'2012-12-31 23:59:59',
  updated_at:'2012-12-31 23:59:59'
  },
  {
  id: 2,
  book_title: 'Metamorphosis',
  book_subject: 'The degradation of humanity, reflected in a single man',
  created_at:'2015-01-12 23:59:59',
  updated_at:'2015-01-12 23:59:59'
  },
  {
  id: 3,
  book_title: 'The Coming Plague',
  book_subject: 'Infectious diseases',
  created_at:'2015-01-12 23:59:59',
  updated_at:'2015-01-12 23:59:59'
  },
]

// 1. write a function that uses the three arrays to create a new array.
// 2. each element must be an array with three objects.
// 3. users objects id must match user_id of usersHaveBooks.
// books object id must match the book_id of usersHaveBooks




function innerJoin(users, books, usersHaveBooks) {

  var joinedArray = [];
  var temp = [];
for (var ubn = 0; ubn < usersHaveBooks.length; ubn++){
	temp.push(usersHaveBooks);
	// get userid,bookid
	var u = usersHaveBooks[ubn]["user_id"];
	var b = usersHaveBooks[ubn]["book_id"];
	// sweep across users,books
	for(var usweep=0; usweep<users.length; usweep++){
		// technically, this could be faster
		// we're just learning, and length = 3
		if( users[usweep]["id"] == u ){
			temp.push(users[usweep]);
		}
	}
	for(var bsweep=0; bsweep<books.length; bsweep++){
		if( books[bsweep]["id"] == b ){
			temp.push(books[bsweep]);
		}
	}
	joinedArray.push(temp);
	temp = [];
}
console.log(joinedArray);
}


// function leftJoin( arr, arr2, arr3, idx,idx2,idx3 ){
// 	var newArray = [];
// 	var temp = [];
// 	for (var i =0; i < arr.length; i++) {
// 		temp.push(arr);

		
// 	}
// }

	</script>
</head>
<body>

</body>
</html>